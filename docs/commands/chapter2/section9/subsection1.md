---
sidebar_position: 1
---

# 2.9.1 文本操作命令

在前面的几节，我们掌握了许多基本逻辑相关的命令。可以说，有了这些命令，你已经可以做出一张出色的地图。然而，虽然在底层逻辑上我们已经没有太大的问题，但是在一些细节、特效上却有一些缺憾。迄今为止，我们都是在用`/say`来通知玩家，如果有一些只能给特定玩家传递的信息，`/say`会导致所有人都能看到这些消息；而且也缺少粒子、音效等其他辅助特效的支持，这就导致做出来的逻辑搭配的反馈总是“缺点什么”。可以说，这些特效是为了玩家能够体会到更好的反馈而服务的，在很多情况下仍然是重要的。

在 2.9 这一大节，我们将从聊天栏、标题、相机、粒子、音效等方面详细谈谈如何实现不同的特效效果。本节，我们来看聊天栏和标题，也就是文本特效。

## 聊天栏输出

通常来说，很多必要的消息都是从聊天栏输出的。例如地图中一个 NPC 说过的话；或者起床战争中通知自己和别人的床被破坏；或者在密室杀手提示特定的玩家游戏目标；等等。好在，聊天栏输出文本信息的命令还是很多的，主要有 4 条：`/say`、`/tell`、`/me`、`/tellraw`，其中`/tell`和`/me`现在并不常用，最常用的是`/tellraw`，但是我们先简单介绍另外三条。

![chat_commands_1](../img/section9/chat_commands_1.png)

### 公告命令：`/say`

`/say`我们已经在 2.2 学过，并且在前面我们一直在用，这里就不再多强调，我们再来看一眼语法作为复习。

```text title="/say的语法" showLineNumbers
/say <消息: message>
```

### *私聊玩家：`/tell`（`/w`、`/msg`）

`/tell`是一条能够对特定玩家展示聊天栏消息的命令。它还有两个同义命令（也是同义命令最多的命令），`/w`和`/msg`。语法如下：

```text title="/tell的语法" showLineNumbers
/tell <玩家: target> <消息: message>
```

对`玩家`展示`消息`。在`/tellraw`在 1.9 版本加入到游戏之前，这条命令也是常用的对玩家私发聊天栏消息的命令，然而现在在实际工程中却已经几乎不用了。但特别的是，因为这条命令在服务器中普通玩家也能使用，因此它反而是无作弊服务器中玩家们常用的命令之一。关于权限等级的问题，我们在 2.10 会详细谈谈。

执行命令`/tell @a @a，你们好，这是对玩家私聊一条消息的效果！`的效果如下图所示。

![tell_1](../img/section9/tell_1.png)

### *聊天栏宣告状态：`/me`

`/me`对所有玩家宣告执行者的状态。语法如下：

```text title="/tell的语法" showLineNumbers
/me <消息: message>
```

和`/say`的区别在于，它的输出格式从`[执行者] 消息`的格式变成了`* 执行者 消息`的格式。例如执行`/me 掉出了这个世界`，它的执行效果为

![me_1](../img/section9/me_1.png)

## 标题命令：`/title`

除了聊天栏之外，屏幕其他地方也是可以显示文字的。你在其他地图中、其他模组甚至其他游戏中都一定看过一些在屏幕中央展示的文字，例如《植物大战僵尸》的红色大字“A HUGE WAVE OF ZOMBIES IS APPROACHING”通过一段动画显示在屏幕中央，配合音效就展现了一种“压迫感”。在 Minecraft 中，这样的文字称作**标题（Title）**。

下图展现了 MC 中可用的三种标题：主标题（屏幕中央）、副标题（主标题下方）和快捷栏标题（快捷栏上方）。

![title_1](../img/section9/title_1.png)

标题命令的语法如下所示：

```text title="/tell的语法" showLineNumbers
/title <玩家: target> <title|subtitle|actionbar> <标题信息: message>
/title <玩家: target> clear
/title <玩家: target> reset
/title <玩家: target> times <淡入: int> <停留: int> <淡出: int>
```

虽然看起来有 4 种用法，但是事实上只有 3 种用法：播放标题（`title`、`subtitle`、`actionbar`）、清空标题（`clear`）和时间控制（`times`、`reset`）。

### 播放标题

播放标题是标题命令最常用的用法。在上面的图中，**主标题通过`title`参数播放；副标题通过`subtitle`参数播放；快捷栏标题则通过`actionbar`参数播放**。

:::tip[实验 2.9-1]

分别执行命令`/title @a title 主标题`、`/title @a subtitle 副标题`和`/title @a actionbar 快捷栏标题`，看看它们执行的效果如何。

:::

在执行上面三条命令之后，你就可以在上面的三个对应位置看到这三种标题。

然而，**副标题却是比较特殊的**——如果你的手速慢一点，你可能看不到这条命令的执行有什么效果。这是因为，副标题的显示必须依托于主标题，如果主标题已经消失，则副标题也不会显示——或者说，**它在等待下一次的主标题的执行，并随下一次的主标题一起消失，这就是副标题的队列性**，副标题是不能单独显示的。

读者可以试一试在主标题未显示的情况下，先执行副标题命令再执行主标题命令，这时候主标题和副标题将一同显示。

实际播放标题时，当然不会使用副标题的这种队列性，因为它很可能会造成标题播放的混乱。通常我们都是在本次主标题播放的瞬间立刻播放副标题，或者至少在主标题还存在的时候播放副标题。

### *清空标题

你可以在标题正在播放的时候使用`/title <玩家> clear`来清空标题。这种用法还是比较少的，通常直接通过时间调控来解决。

### 时间控制

在播放这些标题的时候，你可以看到它们是存在一定的淡入淡出的。如果想要调控标题的淡入淡出，就可以用`times`来解决。

:::tip[实验 2.9-2]

先执行命令`/title @a title 主标题`，观察它的淡入淡出特性。

然后，执行命令`/title @a times 0 60 0`，再播放一次主标题，现在的效果又如何？关于标题的淡入淡出和停留时间，你能通过实验现象判断出其单位吗？

然后，再执行命令`/title @a reset`，再播放一次主标题，重置到默认状态。

:::

在执行了`/title @a times 0 60 0`后，你将会看到再播放主标题之后，标题将毫无征兆地跳出来，在停留了 3 秒后（反正肯定不是 60 秒），又毫无征兆地消失，这就是`times`的作用，显然它接受的 3 个参数的时间单位都是游戏刻。而`reset`用法，则是将一切时间设置都改回默认。默认值分别是 10、70、20，也就是说`/title @a times 10 70 20`和`/title @a reset`是完全等效的，所以`reset`用法实际上也不太常用。

需要注意，`times`用法对快捷栏标题无效。

---

在上面我们简单介绍了聊天栏显示文本的命令和标题显示文本的命令。然而，我们的“野心”还不止于此。无论是`/say`、`/tell`还是`/me`，它们显示的内容都“不干净”，相比于我们想要显示的消息，它们总是会多出`[执行者]`、`* 执行者`甚至一大堆奇怪的`<执行者> 执行者悄悄地对你说：`。就没有一种更好的方法能够显示最干净、最纯粹的内容吗？好消息是，有！确实有一种方法能够纯粹地只返回我们希望返回的内容，但坏消息是，我们又要和“组件”，也就是所谓的`json`打交道了。这就是**文本组件（Text Component）**。

## 文本组件

在学习物品的时候，我们学习了物品组件，当时我们说物品组件

### 普通文本打印`text`

### 分数打印`score`

### 实体名打印`selector`

### 格式化打印`translate`与`with`

## 基于文本组件的 raw 命令

### 聊天栏的`/tellraw`

### 标题的`/titleraw`

---

## 总结与练习
